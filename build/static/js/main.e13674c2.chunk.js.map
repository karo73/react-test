{"version":3,"sources":["fetch/index.tsx","components/Nav/Nav.tsx","components/List/List.tsx","components/Loading/Loading.tsx","store/catItems/actions.tsx","components/App/App.tsx","reportWebVitals.ts","store/catItems/reducers.tsx","index.tsx"],"names":["Request","url","fetch","then","response","json","Nav","navItems","updateState","className","map","item","index","to","id","activeClassName","onClick","currentId","name","List","listItems","href","target","rel","src","alt","categories","Loading","ADD_ITEMS","App","props","state","category","disabledButton","limit","bind","get","data","setState","newItems","addItemsAction","Number","window","location","pathname","replace","newState","this","items","concat","length","type","disabled","loadItems","React","Component","mapDispatchToProps","payload","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","store","createStore","action","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e13674c2.chunk.js","sourcesContent":["class Request {\r\n\r\n    static get( url: string ){\r\n\r\n        return fetch( url ).then(response => response.json());\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Request;","import React from 'react';\nimport { NavLink, BrowserRouter } from 'react-router-dom';\nimport './Nav.scss';\n\ninterface Props {\n  navItems: any[];\n  updateState: any;\n}\n\nconst Nav: React.FC<Props> = ({ navItems, updateState }) => {\n\n    return (\n      <nav className=\"nav\">\n        <ul className=\"nav__list\">\n            <BrowserRouter>\n                {\n                  navItems.map(( item, index ) => (\n                      <li className=\"nav__item\" key={index}>\n                          <NavLink\n                              className=\"nav__link\"\n                              to={'/react-test/build/' + item.id}\n                              activeClassName=\"nav__link--active\"\n                              onClick={() => updateState({ currentId: item.id })}\n                          >{item.name}</NavLink>\n                      </li>\n                  ))\n                }\n            </BrowserRouter>\n        </ul>\n      </nav>\n  );\n\n};\n\nexport default Nav;","import React from 'react';\nimport './List.scss';\n\ninterface Props {\n    listItems: any[];\n}\n\nconst List: React.FC<Props> = ({ listItems }) => {\n\n    return (\n        <ul className=\"list\">\n            {\n                listItems.map((item, index) => (\n                    <li key={index} className=\"list__item\">\n                        <a\n                            className=\"list__link\"\n                            href={item.url}\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                        >\n                            <figure className=\"list__img-box\">\n                                <img className=\"list__img\" src={item.url} alt={item.categories[0]['name']} />\n                            </figure>\n                        </a>\n                    </li>\n                ))\n            }\n        </ul>\n    );\n\n};\n\nexport default List;","import React from 'react';\r\nimport './Loading.scss';\r\n\r\nconst Loading = () => (\r\n    <div className=\"loading\"></div>\r\n);\r\n\r\nexport default Loading;","export const ADD_ITEMS = 'ADD_ITEMS';\r\n\r\nexport const addItemsAction = ( payload: object ) => {\r\n    return {\r\n        type: ADD_ITEMS,\r\n        payload\r\n    };\r\n};","import React from 'react';\nimport Request from '../../fetch';\nimport Nav from '../Nav/Nav';\nimport List from '../List/List';\nimport Loading from '../Loading/Loading';\nimport {\n  addItemsAction\n} from '../../store/catItems/actions';\nimport { connect } from 'react-redux';\nimport './App.scss';\n\ninterface Props {\n  items: any;\n  addItemsAction: any\n}\n\ninterface State {\n  category: object[];\n  disabledButton: boolean;\n  limit: number;\n  currentId: number | null;\n}\n\nclass App extends React.Component<Props, State> {\n\n  constructor( props: Props ){\n    super( props );\n\n    this.state = {\n      category: [],\n      disabledButton: false,\n      limit: 10,\n      currentId: null\n    };\n\n    // Bind own methods\n    this.updateState = this.updateState.bind( this );\n\n  }\n\n  componentDidMount() {\n\n    // Get categories\n    Request.get('https://api.thecatapi.com/v1/categories').then(data => {\n      this.setState({\n        category: data\n      });\n\n      const newItems: any = {};\n      data.map(( item: any ) => newItems[item.id] = []);\n      this.props.addItemsAction( newItems );\n\n      const id = Number(window.location.pathname.replace('/', ''));\n      if ( id ) {\n        this.setState({\n          currentId: id\n        });\n      }\n\n    });\n\n  }\n\n  updateState( newState: object ){\n    this.setState( newState );\n  }\n\n  loadItems(){\n\n    this.setState({\n      disabledButton: true\n    });\n\n    Request.get('https://api.thecatapi.com/v1/images/search?limit=' + this.state.limit + '&category_ids=' + this.state.currentId).then(data => {\n\n      if ( this.state.currentId !== null ) {\n        const newItems = this.props.items;\n        newItems[this.state.currentId] = this.props.items[this.state.currentId].concat(data);\n        this.props.addItemsAction( newItems );\n      }\n\n      this.setState({\n        disabledButton: false\n      });\n\n    });\n\n  }\n\n  render(){\n\n    if ( !this.state.category.length ) {\n      return <Loading />;\n    }\n\n    return (\n        <div className=\"center\">\n          <header>\n            <h1 className=\"main-header\">Cats</h1>\n            <Nav\n                navItems={this.state.category}\n                updateState={this.updateState}\n            />\n          </header>\n          <main>\n            {\n              this.state.currentId !== null ?\n                <>\n                  <List listItems={this.props.items[this.state.currentId]} />\n                  <button\n                      className=\"btn\"\n                      type=\"button\"\n                      disabled={this.state.disabledButton}\n                      onClick={() => this.loadItems()}\n                  >{this.state.disabledButton ? <Loading /> : 'Load more 10 cats'}</button>\n                </> : ''\n            }\n          </main>\n        </div>\n    );\n\n  }\n\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    items: state.items\n  };\n};\n\nconst mapDispatchToProps = {\n  addItemsAction\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( App );\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ADD_ITEMS } from './actions';\r\n\r\ninterface ItemState {\r\n    items: object;\r\n}\r\n\r\ninterface ItemAction {\r\n    type: string;\r\n    payload: object;\r\n}\r\n\r\nconst initialState = {\r\n    items: {}\r\n};\r\n\r\nexport const itemsReducer = ( state: ItemState = initialState, action: ItemAction ) => {\r\n\r\n    switch( action.type ){\r\n        case ADD_ITEMS:\r\n            return {...state, items: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport { itemsReducer } from './store/catItems/reducers';\n\nconst store = createStore( itemsReducer );\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}